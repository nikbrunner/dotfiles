session: bcc

root: ~/Documents/dev/repos/dcd/bc-desktop-client

before_start:
  - git checkout master

stop:
  - docker kill $(docker ps -q)
  - killall node

windows:
  - name: code
    layout: main-horizontal
    commands:
      - $EDITOR .
  - name: run
    layout: main-horizontal
    commands:
      - nvm use
      - clear
  - name: kiosk
    commands:
      - nvm use
      - clear
      - "npm run dev:docker dev:services:kiosk"
    panes:
      - type: horizontal
        commands:
          - nvm use
          - clear
          - "npm run dev:app"
  # - name: mobile
  #   commands:
  #     - nvm use
  #     - clear
  #     - npm run dev:docker dev:services:mobile
  #   panes:
  #     - type: horizontal
  #       commands:
  #         - nvm use
  #         - clear
  #         - SERVICE_URL=http://$myip:8002/service npm run dev:mobile
  - name: ssh
    # commands:
      # Use BC_IP=10.0.2.125 when starting smug
      # - ssh root@${BC_IP}
