"use strict";var p=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var w=(o,n)=>{for(var r in n)p(o,r,{get:n[r],enumerable:!0})},N=(o,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of I(n))!S.call(o,t)&&t!==r&&p(o,t,{get:()=>n[t],enumerable:!(i=L(n,t))||i.enumerable});return o};var h=o=>N(p({},"__esModule",{value:!0}),o);var x={};w(x,{default:()=>P});module.exports=h(x);var c=require("react"),e=require("@raycast/api");var f=require("react"),a=require("@raycast/api");var u=a.Icon,d=async(o,n)=>{await a.LocalStorage.setItem(o,JSON.stringify(n))},l=async o=>{let n=await a.LocalStorage.getItem(o),r=typeof n>"u"?"":n;return r==""?[]:JSON.parse(r)};var s=require("react/jsx-runtime"),F=async(o,n,r,i)=>{let t=await l("localPins"),m=(await l("nextPinID"))[0];d("nextPinID",[m+1]);let g=[...t];g.push({name:o,url:n,icon:r,group:i,id:m}),await d("localPins",g),await(0,e.showToast)({title:`Added pin for "${o}"`}),(0,e.popToRoot)()},O=()=>{let[o,n]=(0,c.useState)([]);return(0,c.useEffect)(()=>{Promise.resolve(l("localGroups")).then(r=>{let i=[...r];i.push({name:"None",id:-1,icon:"Minus"}),n(i)})},[]),o},_=()=>{let[o,n]=(0,c.useState)(),r=O(),i=Object.keys(e.Icon);return i.unshift("Favicon / File Icon"),i.unshift("None"),(0,s.jsxs)(e.Form,{actions:(0,s.jsx)(e.ActionPanel,{children:(0,s.jsx)(e.Action.SubmitForm,{icon:e.Icon.ChevronRight,onSubmit:t=>F(t.nameField,t.urlField,t.iconField,t.groupField)})}),children:[(0,s.jsx)(e.Form.TextField,{id:"nameField",title:"Pin Name",placeholder:"Enter pin name, e.g. Google, or leave blank to use URL"}),(0,s.jsx)(e.Form.TextField,{id:"urlField",title:"Pin Path/URL",placeholder:"Enter the filepath or URL to pin",error:o,onChange:()=>o!==void 0?n(void 0):null,onBlur:t=>{t.target.value?.length==0?n("URL cannot be empty!"):!t.target.value?.includes(":")&&!t.target.value?.startsWith("/")?n("Please enter a valid URL or path!"):o!==void 0&&n(void 0)}}),(0,s.jsx)(e.Form.Dropdown,{id:"iconField",title:"Pin Icon",defaultValue:"None",children:i.map(t=>(0,s.jsx)(e.Form.Dropdown.Item,{title:t,value:t,icon:t in u?u[t]:u.Minus},t))}),r?.length?(0,s.jsx)(e.Form.Dropdown,{id:"groupField",title:"Pin Group",defaultValue:"None",children:r.map(t=>(0,s.jsx)(e.Form.Dropdown.Item,{title:t.name,value:t.name,icon:u[t.icon]},t.name))}):null]})};function P(){return(0,s.jsx)(_,{})}0&&(module.exports={});
